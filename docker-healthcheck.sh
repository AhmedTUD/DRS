#!/bin/bash

# ุณูุฑูุจุช ูุญุต ุตุญุฉ ุงูุชุทุจูู
echo "๐ ูุญุต ุตุญุฉ ุงูุชุทุจูู..."

# ูุญุต ุญุงูุฉ ุงูุญุงููุงุช
echo "๐ ุญุงูุฉ ุงูุญุงููุงุช:"
docker-compose ps

# ูุญุต ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
echo -e "\n๐พ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ:"
docker stats --no-stream

# ูุญุต ุงูุณุฌูุงุช ุงูุฃุฎูุฑุฉ
echo -e "\n๐ ุขุฎุฑ 10 ุณุฌูุงุช ููุชุทุจูู:"
docker-compose logs --tail=10 web

# ูุญุต ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
echo -e "\n๐๏ธ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช:"
docker-compose exec db mysql -u root -p${MYSQL_ROOT_PASSWORD} -e "SELECT 1;" 2>/dev/null && echo "โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู ุจุดูู ุทุจูุนู" || echo "โ ูุดููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช"

# ูุญุต ุงูุงุชุตุงู ุจุงูุชุทุจูู
echo -e "\n๐ ูุญุต ุงูุชุทุจูู:"
if curl -f -s http://localhost:5000 > /dev/null; then
    echo "โ ุงูุชุทุจูู ูุนูู ุจุดูู ุทุจูุนู"
else
    echo "โ ูุดููุฉ ูู ุงูุชุทุจูู"
fi

echo -e "\nโ ุงูุชูู ูุญุต ุงูุตุญุฉ"