#!/bin/bash

# ุณูุฑูุจุช ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ ูููุดุฑ ุนูู VPS

echo "๐ง ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ ูููุดุฑูุน..."

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Python3 ุฃููุงู"
    exit 1
fi

# ุชุดุบูู ุณูุฑูุจุช ุชูููุฏ ููู .env
python3 generate_env.py

# ุงูุชุญูู ูู ูุฌุงุญ ุฅูุดุงุก ุงูููู
if [ -f .env ]; then
    echo ""
    echo "โ ุชู ุฅูุดุงุก ููู .env ุจูุฌุงุญ!"
    echo ""
    echo "๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:"
    echo "1. ุฑุงุฌุน ููู .env ููุชุฃูุฏ ูู ุงูููู"
    echo "2. ุดุบู ุงูุฃูุฑ: ./deploy.sh"
    echo "3. ุฃู ุดุบู: docker-compose up -d --build"
    echo ""
    echo "๐ ููุงุญุธุฉ ุฃูููุฉ:"
    echo "- ูุง ุชุดุงุฑู ูุญุชูู ููู .env ูุน ุฃุญุฏ"
    echo "- ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูููุงุช ุงููุฑูุฑ"
else
    echo "โ ูุดู ูู ุฅูุดุงุก ููู .env"
    exit 1
fi